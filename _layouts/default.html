<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Primary Meta Tags -->
  <title>{% if page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
  <meta name="title"
    content="{% if page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}">
  <meta name="description"
    content="{% if page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  <meta name="author" content="{{ site.author.name }}">

  <!-- Canonical URL -->
  <link rel="canonical" href="{{ page.url | absolute_url }}">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
  <meta property="og:description"
    content="{% if page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  <meta property="og:site_name" content="{{ site.title }}">
  {% if page.image %}
  <meta property="og:image" content="{{ page.image | absolute_url }}">{% endif %}

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{{ page.url | absolute_url }}">
  <meta property="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
  <meta property="twitter:description"
    content="{% if page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  {% if site.author.twitter %}
  <meta property="twitter:creator" content="@{{ site.author.twitter }}">{% endif %}
  {% if page.image %}
  <meta property="twitter:image" content="{{ page.image | absolute_url }}">{% endif %}

  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">

  <!-- MathJax for LaTeX math rendering -->
  <script>
    MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
</head>

<body>

  {% include navigation.html %}

  <main class="page-content" aria-label="Content">
    <article class="wrapper">
      {% if page.title and page.layout != 'home' %}
      <header class="post-header">
        <h1 class="post-title">{{ page.title }}</h1>
        {% if page.subtitle %}
        <p class="subtitle">{{ page.subtitle }}</p>
        {% endif %}
      </header>
      {% endif %}

      <div class="post-content">
        {{ content }}
      </div>
    </article>
  </main>

  {% include footer.html %}

  <!-- Mobile Interaction Script -->
  <script src="{{ '/assets/js/mobile-notes.js' | relative_url }}"></script>
</body>

</html>